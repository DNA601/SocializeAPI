const { Thought, User } = require("../models");

const thoughtControl = {
    createAThought({ params, body }, res) { //creating a users thought
        Thought.create(body)
            .then(({ _id }) => {
                return User.findOneAndUpdate({ _id: body.userId }, { $push: { thoughts: _id } }, { new: true });
            })
            .then((userData) => {
                if (!userData) {
                    return res
                        .status(404)
                        .json({ message: 'no user found' });
                }

                res.json({ message: 'a thought has been born' });
            })
            .catch((err) => res.json(err));
    },
    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////






    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////






    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////







    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////










    /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}
module.exports = thoughtControl;